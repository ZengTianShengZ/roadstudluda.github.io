jQuery.extend(jQuery.easing,{easeInQuad:function(t,e,a,i,s){return i*(e/=s)*e+a},easeOutQuad:function(t,e,a,i,s){return-i*(e/=s)*(e-2)+a},easeInOutQuad:function(t,e,a,i,s){return(e/=s/2)<1?i/2*e*e+a:-i/2*(--e*(e-2)-1)+a},easeInCubic:function(t,e,a,i,s){return i*(e/=s)*e*e+a},easeOutCubic:function(t,e,a,i,s){return i*((e=e/s-1)*e*e+1)+a},easeInOutCubic:function(t,e,a,i,s){return(e/=s/2)<1?i/2*e*e*e+a:i/2*((e-=2)*e*e+2)+a},easeInQuart:function(t,e,a,i,s){return i*(e/=s)*e*e*e+a},easeOutQuart:function(t,e,a,i,s){return-i*((e=e/s-1)*e*e*e-1)+a},easeInOutQuart:function(t,e,a,i,s){return(e/=s/2)<1?i/2*e*e*e*e+a:-i/2*((e-=2)*e*e*e-2)+a},easeInQuint:function(t,e,a,i,s){return i*(e/=s)*e*e*e*e+a},easeOutQuint:function(t,e,a,i,s){return i*((e=e/s-1)*e*e*e*e+1)+a},easeInOutQuint:function(t,e,a,i,s){return(e/=s/2)<1?i/2*e*e*e*e*e+a:i/2*((e-=2)*e*e*e*e+2)+a},easeInSine:function(t,e,a,i,s){return-i*Math.cos(e/s*(Math.PI/2))+i+a},easeOutSine:function(t,e,a,i,s){return i*Math.sin(e/s*(Math.PI/2))+a},easeInOutSine:function(t,e,a,i,s){return-i/2*(Math.cos(Math.PI*e/s)-1)+a},easeInExpo:function(t,e,a,i,s){return 0==e?a:i*Math.pow(2,10*(e/s-1))+a},easeOutExpo:function(t,e,a,i,s){return e==s?a+i:i*(-Math.pow(2,-10*e/s)+1)+a},easeInOutExpo:function(t,e,a,i,s){return 0==e?a:e==s?a+i:(e/=s/2)<1?i/2*Math.pow(2,10*(e-1))+a:i/2*(-Math.pow(2,-10*--e)+2)+a},easeInCirc:function(t,e,a,i,s){return-i*(Math.sqrt(1-(e/=s)*e)-1)+a},easeOutCirc:function(t,e,a,i,s){return i*Math.sqrt(1-(e=e/s-1)*e)+a},easeInOutCirc:function(t,e,a,i,s){return(e/=s/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+a:i/2*(Math.sqrt(1-(e-=2)*e)+1)+a},easeInElastic:function(t,e,a,i,s){var n=1.70158,o=0,r=i;if(0==e)return a;if(1==(e/=s))return a+i;if(o||(o=.3*s),r<Math.abs(i)){r=i;var n=o/4}else var n=o/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(e-=1))*Math.sin((e*s-n)*(2*Math.PI)/o))+a},easeOutElastic:function(t,e,a,i,s){var n=1.70158,o=0,r=i;if(0==e)return a;if(1==(e/=s))return a+i;if(o||(o=.3*s),r<Math.abs(i)){r=i;var n=o/4}else var n=o/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*e)*Math.sin((e*s-n)*(2*Math.PI)/o)+i+a},easeInOutElastic:function(t,e,a,i,s){var n=1.70158,o=0,r=i;if(0==e)return a;if(2==(e/=s/2))return a+i;if(o||(o=s*(.3*1.5)),r<Math.abs(i)){r=i;var n=o/4}else var n=o/(2*Math.PI)*Math.asin(i/r);return e<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e*s-n)*(2*Math.PI)/o))+a:r*Math.pow(2,-10*(e-=1))*Math.sin((e*s-n)*(2*Math.PI)/o)*.5+i+a},easeInBack:function(t,e,a,i,s,n){return void 0==n&&(n=1.70158),i*(e/=s)*e*((n+1)*e-n)+a},easeOutBack:function(t,e,a,i,s,n){return void 0==n&&(n=1.70158),i*((e=e/s-1)*e*((n+1)*e+n)+1)+a},easeInOutBack:function(t,e,a,i,s,n){return void 0==n&&(n=1.70158),(e/=s/2)<1?i/2*(e*e*(((n*=1.525)+1)*e-n))+a:i/2*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)+a},easeInBounce:function(t,e,a,i,s){return i-jQuery.easing.easeOutBounce(t,s-e,0,i,s)+a},easeOutBounce:function(t,e,a,i,s){return(e/=s)<1/2.75?i*(7.5625*e*e)+a:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+a:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+a:i*(7.5625*(e-=2.625/2.75)*e+.984375)+a},easeInOutBounce:function(t,e,a,i,s){return e<s/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,s)+a:.5*jQuery.easing.easeOutBounce(t,2*e-s,0,i,s)+.5*i+a}}),function(t){t.fn.etalage=function(e){var a=t.extend({align:"left",thumb_image_width:300,thumb_image_height:400,source_image_width:900,source_image_height:1200,zoom_area_width:600,zoom_area_height:"justify",zoom_area_distance:10,zoom_easing:!0,click_to_zoom:!1,zoom_element:"auto",show_descriptions:!0,description_location:"bottom",description_opacity:.7,small_thumbs:3,smallthumb_inactive_opacity:.4,smallthumb_hide_single:!0,smallthumb_select_on_hover:!1,smallthumbs_position:"bottom",show_begin_end_smallthumb:!0,magnifier_opacity:.5,magnifier_invert:!0,show_icon:!0,icon_offset:20,hide_cursor:!1,show_hint:!1,hint_offset:15,speed:600,autoplay:!0,autoplay_interval:6e3,keyboard:!0,right_to_left:!1,click_callback:function(){return!0},change_callback:function(){return!0}},e);return t.each(this,function(){function e(t){I=I?I-1:0,w=!0;var e,a,i,s,n=o.find(".etalage_smallthumb_first").removeClass("etalage_smallthumb_first"),r=o.find(".etalage_smallthumb_last").removeClass("etalage_smallthumb_last");"left"===t?(e=n.prev().addClass("etalage_smallthumb_first"),a=r.prev().addClass("etalage_smallthumb_last"),i=n):(e=n.next().addClass("etalage_smallthumb_first"),a=r.next().addClass("etalage_smallthumb_last"),i=r),I?"left"===t?e.trigger("click"):a.trigger("click"):(s="vert"===B?e.position().top:e.position().left,jt(s,e,a,i))}function i(t){w=!0;var e,a,i;o.find(".etalage_smallthumb_first").removeClass("etalage_smallthumb_first"),o.find(".etalage_smallthumb_last").removeClass("etalage_smallthumb_last");"end"===t?(e=F.eq(J-K).addClass("etalage_smallthumb_first"),a=F.eq(J-1).addClass("etalage_smallthumb_last"),i=a,a.hasClass("etalage_smallthumb_navtostart")&&(i=a.prev())):(e=F.eq(0).addClass("etalage_smallthumb_first"),a=F.eq(K-1).addClass("etalage_smallthumb_last"),i=e,e.hasClass("etalage_smallthumb_navtoend")&&(i=e.next()));var s="vert"===B?e.position().top:e.position().left;jt(s,e,a,i)}function s(){i("start")}function n(){i("end")}var o=t(this);if(o.is("ul")&&o.children("li").length&&o.find("img.etalage_source_image").length){var r,l,c,h,d,m,u,g,_,p,f=o.attr("id"),v=Math.floor(.7*a.speed),b=Math.round(a.speed/100),w=!1,I=0,y=!1,k=!0,M=!1,C=0,x=0,T=0,z=0,O=0,B="hori";"undefined"!=typeof f&&f||(f="[no id]"),"left"!==a.smallthumbs_position&&"right"!==a.smallthumbs_position||(B="vert"),"object"==typeof t.browser&&t.browser.msie&&t.browser.version<9&&(k=!1,t.browser.version<7&&(y=!0)),o.addClass("etalage").show();var R=o.children("li").addClass("etalage_thumb");R.first().show().addClass("etalage_thumb_active");var q=R.length,P=a.autoplay;q<2&&(P=!1),"right"===a.align&&o.addClass("etalage_right"),t.each(R,function(e){e+=1;var a=t(this),i=a.find(".etalage_thumb_image").removeAttr("alt").show(),s=a.find(".etalage_source_image"),n=a.find("a");a.data("id",e).addClass("thumb_"+e),!i.length&&s.length?a.prepend('<img class="etalage_thumb_image" src="'+s.attr("src")+'" />'):i.length||s.length||a.remove(),n.length&&a.find(".etalage_thumb_image").data("anchor",n.attr("href"))});var $=R.find(".etalage_thumb_image").css({width:a.thumb_image_width,height:a.thumb_image_height}).show();t.each($,function(){t(this).data("src",this.src)});var L=t('<li class="etalage_magnifier"><div><img /></div></li>').appendTo(o),Q=L.children("div"),W=Q.children("img"),j=t('<li class="etalage_icon">&nbsp;</li>').appendTo(o);a.show_icon&&j.show();var H;a.show_hint&&(H=t('<li class="etalage_hint">&nbsp;</li>').appendTo(o).show());var D,S=a.zoom_element;"auto"!==S&&S&&t(S).length?D=t(S).addClass("etalage_zoom_area").html('<div><img class="etalage_zoom_img" /></div>'):(S="auto",D=t('<li class="etalage_zoom_area"><div><img class="etalage_zoom_img" /></div></li>').appendTo(o));var E,A=D.children("div");k&&(E=t('<img class="etalage_zoom_preview" />').css({width:a.source_image_width,height:a.source_image_height,opacity:.3}).prependTo(A).show());var U,N=A.children(".etalage_zoom_img").css({width:a.source_image_width,height:a.source_image_height});a.show_descriptions&&(U=t('<div class="etalage_description'+(a.right_to_left?" rtl":"")+'"></div>').prependTo(D));var X,Y,F,G,J,K=a.small_thumbs;(q>1||!a.smallthumb_hide_single)&&(X=t('<li class="etalage_small_thumbs"><ul></ul></li>').appendTo(o),Y=X.children("ul"),t.each($,function(){var e=t(this);c=e.data("src"),h=e.parents(".etalage_thumb").data("id"),t('<li><img class="etalage_small_thumb" src="'+c+'" /></li>').data("thumb_id",h).appendTo(Y)}),F=Y.children("li").css({opacity:a.smallthumb_inactive_opacity}),K<3&&(K=3),q>K?(a.show_begin_end_smallthumb?(c=$.eq(q-1).data("src"),h=R.eq(q-1).data("id"),t('<li class="etalage_smallthumb_first etalage_smallthumb_navtoend"><img class="etalage_small_thumb" src="'+c+'" /></li>').data("src",c).data("thumb_id",h).css({opacity:a.smallthumb_inactive_opacity}).prependTo(Y),c=$.eq(0).data("src"),h=R.eq(0).data("id"),t('<li class="etalage_smallthumb_navtostart"><img class="etalage_small_thumb" src="'+c+'" /></li>').data("src",c).data("thumb_id",h).css({opacity:a.smallthumb_inactive_opacity}).appendTo(Y),F=Y.children("li"),F.eq(1).addClass("etalage_smallthumb_active").css({opacity:1})):F.eq(0).addClass("etalage_smallthumb_first etalage_smallthumb_active").css({opacity:1}),F.eq(K-1).addClass("etalage_smallthumb_last")):F.eq(0).addClass("etalage_smallthumb_active").css({opacity:1}),t.each(F,function(e){t(this).data("id",e+1)}),G=F.children("img"),J=F.length,"vert"===B&&F.addClass("vertical")),d=a.magnifier_invert?1:a.magnifier_opacity;var V=parseInt(R.css("borderLeftWidth"),10)+parseInt(R.css("borderRightWidth"),10)+parseInt($.css("borderLeftWidth"),10)+parseInt($.css("borderRightWidth"),10),Z=parseInt(R.css("marginLeft"),10)+parseInt(R.css("marginRight"),10),tt=parseInt(R.css("paddingLeft"),10)+parseInt(R.css("paddingRight"),10)+parseInt($.css("marginLeft"),10)+parseInt($.css("marginRight"),10)+parseInt($.css("paddingLeft"),10)+parseInt($.css("paddingRight"),10),et=a.thumb_image_width+V+Z+tt,at=a.thumb_image_height+V+Z+tt,it=0,st=0,nt=0,ot=0,rt=0,lt=0,ct=0;(q>1||!a.smallthumb_hide_single)&&(it=parseInt(F.css("borderLeftWidth"),10)+parseInt(F.css("borderRightWidth"),10)+parseInt(G.css("borderLeftWidth"),10)+parseInt(G.css("borderRightWidth"),10),st=parseInt(F.css("marginTop"),10),nt=parseInt(F.css("paddingLeft"),10)+parseInt(F.css("paddingRight"),10)+parseInt(G.css("marginLeft"),10)+parseInt(G.css("marginRight"),10)+parseInt(G.css("paddingLeft"),10)+parseInt(G.css("paddingRight"),10),"vert"===B?(rt=Math.round((at-(K-1)*st)/K)-(it+nt),ot=Math.round(a.thumb_image_width*rt/a.thumb_image_height),lt=ot+it+nt,ct=rt+it+nt):(ot=Math.round((et-(K-1)*st)/K)-(it+nt),rt=Math.round(a.thumb_image_height*ot/a.thumb_image_width),lt=ot+it+nt,ct=rt+it+nt));var ht,dt,mt=parseInt(D.css("borderTopWidth"),10),ut=parseInt(a.zoom_area_distance,10),gt=parseInt(D.css("paddingTop"),10);ht=a.zoom_area_width-2*mt-2*gt>a.source_image_width?a.source_image_width:a.zoom_area_width-2*mt-2*gt,dt="justify"===a.zoom_area_height?at+st+ct-2*mt-2*gt:a.zoom_area_height-2*mt-2*gt,dt>a.source_image_height&&(dt=a.source_image_height);var _t,pt,ft,vt;a.show_descriptions&&(_t=parseInt(U.css("borderLeftWidth"),10)+parseInt(U.css("borderRightWidth"),10),pt=parseInt(U.css("marginLeft"),10)+parseInt(U.css("marginRight"),10),ft=parseInt(U.css("paddingLeft"),10)+parseInt(U.css("paddingRight"),10),vt=ht-_t-pt-ft);var bt;y&&(bt=t('<iframe marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="javascript:\'<html></html>\'"></iframe>').css({position:"absolute",zIndex:1}).prependTo(D));var wt=parseInt(L.css("borderTopWidth"),10),It=parseInt(R.css("borderTopWidth"),10)+parseInt(R.css("marginTop"),10)+parseInt(R.css("paddingTop"),10)+parseInt($.css("borderTopWidth"),10)+parseInt($.css("marginTop"),10)-wt,yt=$.offset().left-o.offset().left-wt;"left"===a.smallthumbs_position?yt=yt+lt+st:"top"===a.smallthumbs_position&&(It=It+ct+st);var kt,Mt,Ct=Math.round(ht*(a.thumb_image_width/a.source_image_width)),xt=Math.round(dt*(a.thumb_image_height/a.source_image_height)),Tt=It+a.thumb_image_height-xt,zt=yt+a.thumb_image_width-Ct,Ot=Math.round(Ct/2),Bt=Math.round(xt/2);if(a.show_hint&&(kt=parseInt(a.hint_offset,10)+parseInt(H.css("marginTop"),10),Mt=parseInt(a.hint_offset,10)+parseInt(H.css("marginRight"),10),"right"===a.smallthumbs_position&&(Mt=Mt-lt-st)),"vert"===B?(g=et+st+lt,o.css({width:g,height:at})):(g=et,o.css({width:g,height:at+st+ct})),a.show_icon&&(p={top:at-j.outerHeight(!0)-parseInt(a.icon_offset,10),left:parseInt(a.icon_offset,10)},"left"===a.smallthumbs_position?p.left=lt+st+parseInt(a.icon_offset,10):"top"===a.smallthumbs_position&&(p.top+=ct+st),j.css(p)),a.show_hint&&H.css({margin:0,top:-kt,right:-Mt}),W.css({margin:0,padding:0,width:a.thumb_image_width,height:a.thumb_image_height}),Q.css({margin:0,padding:0,width:Ct,height:xt}),p={margin:0,padding:0,left:(zt-yt)/2,top:(Tt-It)/2},"left"===a.smallthumbs_position?p.left="+="+lt+st:"top"===a.smallthumbs_position&&(p.top="+="+ct+st),L.css(p).hide(),A.css({width:ht,height:dt}),p={margin:0,opacity:0},"right"===a.align&&"auto"===S?p.left=-(ht+2*mt+2*gt+ut):"auto"===S&&(p.left=g+ut),D.css(p).hide(),a.show_descriptions&&(p={width:vt,bottom:gt,left:gt,opacity:a.description_opacity},"top"===a.description_location&&(p.top=gt,p.bottom="auto"),U.css(p).hide()),q>1||!a.smallthumb_hide_single)if("vert"===B?(p={top:0,height:at},"left"===a.smallthumbs_position?R.css({left:lt+st}):p.marginLeft=et+st,X.css(p),Y.css({height:ct*J+J*st+100}),G.css({width:ot,height:rt}).attr("height",rt),F.css({margin:0,marginBottom:st})):(p={width:et},"top"===a.smallthumbs_position?R.css({top:ct+st}):p.top=at+st,X.css(p),Y.css({width:lt*J+J*st+100}),G.css({width:ot,height:rt}).attr("width",ot),F.css({margin:0,marginRight:st})),_="vert"===B?ct*K+(K-1)*st-at:lt*K+(K-1)*st-et,_>0)for(r=1;r<=J-1;r+=K-1)for(l=1;l<=_;l+=1)"vert"===B?F.eq(r+l-1).css({marginBottom:st-1}):F.eq(r+l-1).css({marginRight:st-1});else if(_<0)for(r=1;r<=J-1;r+=K-1)for(l=1;l<=-_;l+=1)"vert"===B?(F.eq(r+l-1).css({marginBottom:st+1}),Y.css({height:parseInt(Y.css("height"),10)+1})):(F.eq(r+l-1).css({marginRight:st+1}),Y.css({width:parseInt(Y.css("width"),10)+1}));a.show_icon&&!a.magnifier_invert&&L.css({background:L.css("background-color")+" "+j.css("background-image")+" center no-repeat"}),a.hide_cursor&&L.add(j).css({cursor:"none"}),y&&bt.css({width:A.css("width"),height:A.css("height")});var Rt=R.first().find(".etalage_thumb_image"),qt=R.first().find(".etalage_source_image");a.magnifier_invert&&W.attr("src",Rt.data("src")).show(),k&&E.attr("src",Rt.data("src")),N.attr("src",qt.attr("src")),a.show_descriptions&&(u=qt.attr("title"),u&&U.html(u).show());var Pt=function(){m&&(clearInterval(m),m=!1)},$t=function(){m&&Pt(),m=setInterval(function(){St()},a.autoplay_interval)},Lt=function(){L.stop().fadeTo(v,d),j.stop().animate({opacity:0},v),D.stop().show().animate({opacity:1},v),a.magnifier_invert&&Rt.stop().animate({opacity:a.magnifier_opacity},v),P&&Pt()},Qt=function(){L.stop().fadeOut(a.speed),j.stop().animate({opacity:1},a.speed),D.stop().animate({opacity:0},a.speed,function(){t(this).hide()}),a.magnifier_invert&&Rt.stop().animate({opacity:1},a.speed,function(){a.click_to_zoom&&(M=!1)}),clearTimeout(C),P&&$t()},Wt=function(e,i){var s,n,r=o.find(".etalage_smallthumb_active").removeClass("etalage_smallthumb_active");e.addClass("etalage_smallthumb_active"),L.stop().hide(),D.stop().hide(),i||(w=!0,r.stop(!0,!0).animate({opacity:a.smallthumb_inactive_opacity},v),e.stop(!0,!0).animate({opacity:1},v,function(){w=!1})),o.find(".etalage_thumb_active").removeClass("etalage_thumb_active").stop().animate({opacity:0},a.speed,function(){t(this).hide()}),s=R.filter(".thumb_"+e.data("thumb_id")).addClass("etalage_thumb_active").show().stop().css({opacity:0}).animate({opacity:1},a.speed),Rt=s.find(".etalage_thumb_image"),qt=s.find(".etalage_source_image"),a.magnifier_invert&&W.attr("src",Rt.data("src")),k&&E.attr("src",Rt.data("src")),N.attr("src",qt.attr("src")),a.show_descriptions&&(u=qt.attr("title"),u?U.html(u).show():U.hide()),P&&(Pt(),$t()),n=e.data("id"),q>=K&&n--,Ut(n)},jt=function(e,i,s,n){t.each(F,function(){var i=t(this),s={opacity:a.smallthumb_inactive_opacity};i.data("id")===n.data("id")&&(s.opacity=1),"vert"===B?s.top="-="+e:s.left="-="+e,i.animate(s,v,"swing",function(){w&&(n.addClass("etalage_smallthumb_active"),w=!1)})}),Wt(n,!0)},Ht=function(){var t=z-x,e=O-T,a=-t/b,i=-e/b;x-=a,T-=i,t<1&&t>-1&&(x=z),e<1&&e>-1&&(T=O),N.css({left:x,top:T}),k&&E.css({left:x,top:T}),(t>1||e>1||t<1||e<1)&&(C=setTimeout(function(){Ht()},25))},Dt=function(){var t;if(a.magnifier_invert&&o.find(".etalage_thumb_active").mouseleave(),a.right_to_left){if(t=o.find(".etalage_smallthumb_active").next(),!t.length)return q>K?s():F.first().trigger("click"),!0}else if(t=o.find(".etalage_smallthumb_active").prev(),!t.length)return q>K?n():F.last().trigger("click"),!0;t.trigger("click")},St=function(){var t;if(a.magnifier_invert&&o.find(".etalage_thumb_active").mouseleave(),a.right_to_left){if(t=o.find(".etalage_smallthumb_active").prev(),!t.length)return q>K?n():F.last().trigger("click"),!0}else if(t=o.find(".etalage_smallthumb_active").next(),!t.length)return q>K?s():F.first().trigger("click"),!0;t.trigger("click")},Et=function(t){(q<=K||!a.show_begin_end_smallthumb)&&(t-=1);var e=F.eq(t);if(e.length&&!w){var i,s=o.find(".etalage_smallthumb_active"),n=s.data("id")-1;if(n>t){I=n-t;var r=o.find(".etalage_smallthumb_first"),l=r.data("id");t<l?(i=n-l,I-=i,r.trigger("click")):Wt(e,!1)}else if(n<t){I=t-n;var c=o.find(".etalage_smallthumb_last"),h=c.data("id")-1;t>=h?(i=h-n-1,I-=i,c.trigger("click")):Wt(e,!1)}}};window[f+"_previous"]=function(){Dt()},window[f+"_next"]=function(){St()},window[f+"_show"]=function(t){Et(t)};var At=function(t){return!!a.click_callback(t,f)&&("function"!=typeof etalage_click_callback||(etalage_click_callback(t,f),!1))},Ut=function(t){a.change_callback(t,f)&&"function"==typeof etalage_change_callback&&etalage_change_callback(t,f)};R.add(L).add(j).mouseenter(function(){a.show_hint&&H.hide(),a.click_to_zoom&&!M||Lt()}).mouseleave(function(){Qt()});var Nt=-(a.source_image_width-ht),Xt=-(a.source_image_height-dt);R.add(L).add(j).mousemove(function(t){var e=Math.round(t.pageX-Rt.offset().left+yt),i=Math.round(t.pageY-Rt.offset().top+It),s=e-Ot,n=i-Bt;if(s<yt&&(s=yt),s>zt&&(s=zt),n<It&&(n=It),n>Tt&&(n=Tt),L.css({left:s,top:n}),a.magnifier_invert){var o=s-yt,r=n-It;W.css({left:-o,top:-r})}z=-((s-yt)*(1/(a.thumb_image_width/a.source_image_width))),O=-((n-It)*(1/(a.thumb_image_height/a.source_image_height))),z<Nt&&(z=Nt),O<Xt&&(O=Xt),a.zoom_easing?(clearTimeout(C),Ht()):(k&&E.css({left:z,top:O}),N.css({left:z,top:O}))}),(q>1||!a.smallthumb_hide_single)&&(F.click(function(){var a=t(this);if(!a.hasClass("etalage_smallthumb_active")&&(!w||I))if(a.hasClass("etalage_smallthumb_first")&&a.prev().length)e("left");else if(a.hasClass("etalage_smallthumb_navtoend"))n();else if(a.hasClass("etalage_smallthumb_last")&&a.next().length)e("right");else if(a.hasClass("etalage_smallthumb_navtostart"))s();else{if(I&&!t(this).next().length)return n(),!0;if(I&&!t(this).prev().length)return s(),!0;Wt(a,!1)}}),a.smallthumb_select_on_hover&&F.mouseenter(function(){t(this).trigger("click")})),a.click_to_zoom?R.click(function(){M=!0,Lt()}):L.click(function(){var t=Rt.data("anchor");t&&At(t)&&(window.location=t)}),q>1&&a.keyboard&&t(document).keydown(function(t){39!==t.keyCode&&"39"!==t.keyCode||(a.right_to_left?Dt():St()),37!==t.keyCode&&"37"!==t.keyCode||(a.right_to_left?St():Dt())}),t(window).bind("load",function(){R.css({"background-image":"none"}),D.css({"background-image":"none"}),k&&(k=!1,E.remove())}),P&&$t()}}),this}}(jQuery),function(t){t.fn.flexisel=function(e){var a,i=t.extend({visibleItems:4,animationSpeed:200,autoPlay:!1,autoPlaySpeed:3e3,pauseOnHover:!0,setMaxWidthAndHeight:!1,enableResponsiveBreakpoints:!1,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},e),s=t(this),n=t.extend(i,e),o=!0,r=n.visibleItems,l={init:function(){return this.each(function(){l.appendHTML(),l.setEventHandlers(),l.initializeItems()})},initializeItems:function(){var e=s.parent(),i=(e.height(),s.children()),n=e.width();a=n/r,i.width(a),i.last().insertBefore(i.first()),i.last().insertBefore(i.first()),s.css({left:-a}),s.fadeIn(),t(window).trigger("resize")},appendHTML:function(){if(s.addClass("nbs-flexisel-ul"),s.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>"),s.find("li").addClass("nbs-flexisel-item"),n.setMaxWidthAndHeight){var e=t(".nbs-flexisel-item > img").width(),a=t(".nbs-flexisel-item > img").height();t(".nbs-flexisel-item > img").css("max-width",e),t(".nbs-flexisel-item > img").css("max-height",a)}t("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(s);var i=s.children().clone();s.append(i)},setEventHandlers:function(){var e=s.parent(),i=s.children(),c=e.find(t(".nbs-flexisel-nav-left")),h=e.find(t(".nbs-flexisel-nav-right"));t(window).on("resize",function(n){l.setResponsiveEvents();var o=t(e).width(),d=t(e).height();a=o/r,i.width(a),s.css({left:-a});var m=c.height()/2,u=d/2-m;c.css("top",u+"px"),h.css("top",u+"px")}),t(c).on("click",function(t){l.scrollLeft()}),t(h).on("click",function(t){l.scrollRight()}),1==n.pauseOnHover&&t(".nbs-flexisel-item").on({mouseenter:function(){o=!1},mouseleave:function(){o=!0}}),1==n.autoPlay&&setInterval(function(){1==o&&l.scrollRight()},n.autoPlaySpeed)},setResponsiveEvents:function(){var e=t("html").width();1==n.enableResponsiveBreakpoints&&(r=e<n.responsiveBreakpoints.portrait.changePoint?n.responsiveBreakpoints.portrait.visibleItems:e>n.responsiveBreakpoints.portrait.changePoint&&e<n.responsiveBreakpoints.landscape.changePoint?n.responsiveBreakpoints.landscape.visibleItems:e>n.responsiveBreakpoints.landscape.changePoint&&e<n.responsiveBreakpoints.tablet.changePoint?n.responsiveBreakpoints.tablet.visibleItems:n.visibleItems)},scrollLeft:function(){if(1==o){o=!1;var t=s.parent(),e=t.width();a=e/r;var i=s.children();s.animate({left:"+="+a},{queue:!1,duration:n.animationSpeed,easing:"linear",complete:function(){i.last().insertBefore(i.first()),l.adjustScroll(),o=!0}})}},scrollRight:function(){if(1==o){o=!1;var t=s.parent(),e=t.width();a=e/r;var i=s.children();s.animate({left:"-="+a},{queue:!1,duration:n.animationSpeed,easing:"linear",complete:function(){i.first().insertAfter(i.last()),l.adjustScroll(),o=!0}})}},adjustScroll:function(){var t=s.parent(),e=s.children(),i=t.width();a=i/r,e.width(a),s.css({left:-a})}};return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+method+'" does not exist in flexisel plugin!'):l.init.apply(this)}}(jQuery),$.fn.megamenu=function(t){function e(){$(".megamenu").find("li, a").unbind(),window.innerWidth<=768?(s(),i(),0==r&&$(".megamenu > li:not(.showhide)").hide(0)):(n(),a())}function a(){$(".megamenu li").bind("mouseover",function(){$(this).children(".dropdown, .megapanel").stop().fadeIn(o.interval)}).bind("mouseleave",function(){$(this).children(".dropdown, .megapanel").stop().fadeOut(o.interval)})}function i(){$(".megamenu > li > a").bind("click",function(t){"none"==$(this).siblings(".dropdown, .megapanel").css("display")?($(this).siblings(".dropdown, .megapanel").slideDown(o.interval),$(this).siblings(".dropdown").find("ul").slideDown(o.interval),r=1):$(this).siblings(".dropdown, .megapanel").slideUp(o.interval)})}function s(){$(".megamenu > li.showhide").show(0),$(".megamenu > li.showhide").bind("click",function(){$(".megamenu > li").is(":hidden")?$(".megamenu > li").slideDown(300):($(".megamenu > li:not(.showhide)").slideUp(300),$(".megamenu > li.showhide").show(0))})}function n(){$(".megamenu > li").show(0),$(".megamenu > li.showhide").hide(0)}var o={interval:250},r=0;$(".megamenu").prepend("<li class='showhide'><span class='title'>MENU</span><span class='icon1'></span><span class='icon2'></span></li>"),e(),$(window).resize(function(){e()})}(function(t){t.fn.UItoTop=function(e){var a={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"},i=t.extend(a,e),s="#"+i.containerID,n="#"+i.containerHoverID;t("body").append('<a href="#" id="'+i.containerID+'">'+i.text+"</a>"),t(s).hide().on("click.UItoTop",function(){return t("html, body").animate({scrollTop:0},i.scrollSpeed,i.easingType),t("#"+i.containerHoverID,this).stop().animate({opacity:0},i.inDelay,i.easingType),!1}).prepend('<span id="'+i.containerHoverID+'"></span>').hover(function(){t(n,this).stop().animate({opacity:1},600,"linear")},function(){t(n,this).stop().animate({opacity:0},700,"linear")}),t(window).scroll(function(){var e=t(window).scrollTop();"undefined"==typeof document.body.style.maxHeight&&t(s).css({position:"absolute",top:e+t(window).height()-50}),e>i.min?t(s).fadeIn(i.inDelay):t(s).fadeOut(i.Outdelay)})}})(jQuery);